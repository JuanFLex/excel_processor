.min-h-screen.bg-gray-50
  .max-w-4xl.mx-auto.px-4.sm:px-6.lg:px-8.py-8.lg:py-12
    .flex.justify-center
      .w-full
        / Clean Header - Centered
        .text-center.mb-10
          %h1.text-3xl.font-bold.text-gray-900.mb-3 SmartQuote - Excel Processor
          %p.text-gray-600.mb-8 Empowering our Sales team by transforming complex, time-consuming quote requests into actionable data that helps evaluate real opportunity viability.

        / Simplified Actions - Centered
        .flex.justify-center.gap-4.mb-12
          = link_to "Upload New File", new_file_upload_path, 
            class: "px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors shadow-md"
          
          = link_to "Manage References", commodity_references_path, 
            class: "px-6 py-3 bg-white border border-gray-300 hover:border-gray-400 text-gray-700 hover:text-gray-900 font-medium rounded-lg transition-colors shadow-sm"

        / Files Section - Centered card
        .bg-white.rounded-xl.shadow-sm.overflow-hidden
          .p-6.text-center
            %h2.text-lg.font-semibold.text-gray-800.mb-6 Recently Processed Files

            - if @processed_files.any?
              .overflow-x-auto
                %table.min-w-full
                  %thead.bg-gray-50.border-b.border-gray-200
                    %tr
                      - ['File', 'Status', 'Uploaded', 'Actions'].each_with_index do |header, i|
                        %th.px-6.py-3.text-left.text-xs.font-medium.text-gray-700.uppercase.tracking-wider{class: ('text-right' if i == 3)}
                          = header

                  %tbody.divide-y.divide-gray-200
                    - @processed_files.each do |file|
                      - status_color = {'completed' => 'green', 'processing' => 'blue', 'queued' => 'amber', 'failed' => 'red'}[file.status] || 'gray'
                      %tr.hover:bg-gray-50.transition-colors
                        %td.px-6.py-4
                          .text-sm.font-medium.text-gray-900= file.original_filename
                          .text-xs.text-gray-500.mt-0.5 ID #{file.id}

                        %td.px-6.py-4
                          %span.text-sm.font-medium{class: "text-#{status_color}-700"}
                            = file.status.titleize

                        %td.px-6.py-4
                          .text-sm.text-gray-900= file.created_at.strftime("%b %d, %Y")
                          .text-xs.text-gray-500= file.created_at.strftime("%H:%M")

                        %td.px-6.py-4.text-right.space-x-3
                          = link_to "View", file_upload_path(file), 
                            class: "text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors"

                          - if file.completed? && file.result_file_path.present?
                            = link_to "Download", download_file_upload_path(file), 
                              class: "text-sm text-green-600 hover:text-green-800 font-medium transition-colors"
                          
                          - if current_user&.admin?
                            = button_to "Delete", file_upload_path(file), method: :delete,
                              data: { confirm: "Are you sure you want to delete '#{file.original_filename}' and all its data? This action cannot be undone." },
                              class: "text-sm text-red-600 hover:text-red-800 font-medium transition-colors bg-transparent border-none cursor-pointer inline"

            - else
              .text-center.py-16
                %svg.h-16.w-16.mx-auto.text-gray-400{:fill => "none", :stroke => "currentColor", :viewBox => "0 0 24 24"}
                  %path{:stroke_linecap => "round", :stroke_linejoin => "round", :stroke_width => 2, :d => "M9 12h6m-6 3v3m6-3h3m-6-9h6m-6 3V3m6 6v3"}
                %p.text-lg.font-medium.text-gray-900.mt-4 No files processed yet
                %p.text-gray-500.mb-6 Upload your first Excel file to get started
                = link_to "Upload Your First File", new_file_upload_path, 
                  class: "inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors shadow-md"

        / Pagination - Centered
        - if @processed_files.respond_to?(:current_page) && @processed_files.total_pages > 1
          .mt-8.flex.justify-center
            = paginate @processed_files

        / Disclaimer at bottom - Centered
        .mt-12.text-center.border-t.border-gray-200.pt-6
          %p.text-xs.text-gray-500.italic Disclaimer: This content was generated with the help of AI and may contain inaccuracies. Please review and validate before use.

:css
  body { -webkit-font-smoothing: antialiased; }
  tbody tr:hover { background-color: rgba(249, 250, 251, 0.6); }