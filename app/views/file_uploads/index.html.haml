.min-h-screen.bg-gray-50
  .max-w-7xl.mx-auto.px-4.sm:px-6.lg:px-8.py-8.lg:py-12
    .flex.justify-center
      %div
        / Clean Header - Centered
        .text-center.mb-10
          %h1.text-3xl.font-bold.text-gray-900.mb-3 SmartQuote - Excel Processor
          %p.text-gray-600.mb-8 Empowering our Sales team by transforming complex, time-consuming quote requests into actionable data that helps evaluate real opportunity viability.

        / Simplified Actions - Centered
        .flex.justify-center.gap-4.mb-12
          = link_to "Upload New File", new_file_upload_path, 
            class: "px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors shadow-md"
          
          = link_to "Manage References", commodity_references_path, 
            class: "px-6 py-3 bg-white border border-gray-300 hover:border-gray-400 text-gray-700 hover:text-gray-900 font-medium rounded-lg transition-colors shadow-sm"

        / Files Section - Modern table design
        .max-w-5xl.mx-auto
          %h2.text-2xl.font-bold.text-gray-900.mb-2.text-left Recently Processed Files
          %p.text-gray-600.mb-8.text-left Here you will see your file processing history.

          - if @processed_files.any?
            .bg-white.rounded-3xl.shadow-xl.border.border-gray-100.overflow-hidden

              %table.min-w-full
                %thead
                  %tr.border-b.border-gray-100
                    %th.px-6.py-4.text-left.text-sm.font-semibold.text-gray-700 File
                    %th.px-6.py-4.text-left.text-sm.font-semibold.text-gray-700 Status
                    %th.px-6.py-4.text-left.text-sm.font-semibold.text-gray-700 Uploaded
                    %th.px-6.py-4.text-right.text-sm.font-semibold.text-gray-700 Actions

                %tbody.divide-y.divide-gray-50
                  - @processed_files.each do |file|
                    - status_color = {'completed' => 'green', 'processing' => 'blue', 'queued' => 'amber', 'failed' => 'red'}[file.status] || 'gray'
                    %tr.hover:bg-gray-25.transition-all.duration-200.group{id: "file-#{file.id}"}
                      %td.px-6.py-4
                        .flex.items-center.gap-3
                          .flex.items-center.gap-3
                            %div.p-2.bg-gray-50.rounded-xl
                              %svg.w-5.h-5.text-gray-600{fill: "none", stroke: "currentColor", viewBox: "0 0 24 24"}
                                %path{stroke_linecap: "round", stroke_linejoin: "round", stroke_width: 2, d: "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}
                            %div
                              .text-sm.font-semibold.text-gray-900= file.original_filename
                              .text-xs.text-gray-500 ID #{file.id}

                      %td.px-6.py-4
                        %span.inline-flex.px-3.py-1.text-xs.font-medium.rounded-full{class: status_color == 'green' ? 'text-green-700 bg-green-50 border border-green-200' : status_color == 'blue' ? 'text-blue-700 bg-blue-50 border border-blue-200' : status_color == 'red' ? 'text-red-700 bg-red-50 border border-red-200' : status_color == 'amber' ? 'text-amber-700 bg-amber-50 border border-amber-200' : 'text-gray-700 bg-gray-50 border border-gray-200'}
                          = file.status.titleize

                      %td.px-6.py-4
                        .text-sm.font-medium.text-gray-900= file.created_at.strftime("%B %d, %Y")
                        .text-xs.text-gray-500= file.created_at.strftime("%H:%M")

                      %td.px-6.py-4.text-right
                        .flex.justify-end.items-center.gap-3
                          = link_to file_upload_path(file), class: "flex items-center gap-1.5 px-2 py-1 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 font-medium transition-all duration-200 rounded-lg" do
                            %svg.w-4.h-4{fill: "none", stroke: "currentColor", viewBox: "0 0 24 24"}
                              %path{stroke_linecap: "round", stroke_linejoin: "round", stroke_width: 2, d: "M15 12a3 3 0 11-6 0 3 3 0 016 0z"}
                              %path{stroke_linecap: "round", stroke_linejoin: "round", stroke_width: 2, d: "M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}
                            %span View

                          - if file.completed? && file.result_file_path.present?
                            = link_to download_file_upload_path(file), class: "flex items-center gap-1.5 px-2 py-1 text-sm text-green-600 hover:text-green-800 hover:bg-green-50 font-medium transition-all duration-200 rounded-lg" do
                              %svg.w-4.h-4{fill: "none", stroke: "currentColor", viewBox: "0 0 24 24"}
                                %path{stroke_linecap: "round", stroke_linejoin: "round", stroke_width: 2, d: "M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}
                              %span Download

                          - if current_user&.admin?
                            = button_to file_upload_path(file), method: :delete, data: { confirm: "Are you sure you want to delete '#{file.original_filename}' and all its data? This action cannot be undone." }, class: "flex items-center gap-1.5 px-2 py-1 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 font-medium transition-all duration-200 rounded-lg bg-transparent border-none cursor-pointer" do
                              %svg.w-4.h-4{fill: "none", stroke: "currentColor", viewBox: "0 0 24 24"}
                                %path{stroke_linecap: "round", stroke_linejoin: "round", stroke_width: 2, d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}
                              %span Delete

              - if @processed_files.respond_to?(:current_page) && @processed_files.total_pages > 1
                .px-6.py-4.border-t.border-gray-100.bg-gray-50.flex.justify-between.items-center.text-sm
                  .text-gray-600
                    Showing 
                    %span.font-medium #{(@processed_files.current_page - 1) * @processed_files.limit_value + 1}
                    to 
                    %span.font-medium #{[@processed_files.current_page * @processed_files.limit_value, @processed_files.total_count].min}
                    of 
                    %span.font-medium #{@processed_files.total_count}
                    results

          - else
            .text-center.py-20.px-4
              .bg-white.rounded-3xl.shadow-sm.border.border-gray-200.p-12.max-w-md.mx-auto
                %svg.h-16.w-16.mx-auto.text-gray-400.mb-4{:fill => "none", :stroke => "currentColor", :viewBox => "0 0 24 24"}
                  %path{:stroke_linecap => "round", :stroke_linejoin => "round", :stroke_width => 1.5, :d => "M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}
                %h3.text-lg.font-semibold.text-gray-900.mb-2 No files processed yet
                %p.text-gray-500.mb-6.text-sm Upload your first Excel file to get started with SmartQuote
                = link_to "Upload Your First File", new_file_upload_path,
                  class: "inline-block px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors shadow-md hover:shadow-lg transform hover:-translate-y-0.5"

        / Pagination - Centered
        - if @processed_files.respond_to?(:current_page) && @processed_files.total_pages > 1
          .mt-8.flex.justify-center
            = paginate @processed_files

        / Disclaimer at bottom - Centered and improved
        .mt-16.text-center.border-t.border-gray-200.pt-8
          .bg-blue-50.rounded-2xl.p-4.max-w-2xl.mx-auto
            %p.text-xs.text-blue-600.italic 
              %span.font-medium Disclaimer: 
              This content was generated with the help of AI and may contain inaccuracies. Please review and validate before use.

:css
  body { -webkit-font-smoothing: antialiased; }
  tbody tr:hover { background-color: rgba(249, 250, 251, 0.8); }